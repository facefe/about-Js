<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
    <!-- <script src="main.js"></script> -->
</head>

<body>
    <script>
        // 面向对象的程序设计
        // ECMAScript 中含有两种属性：数据属性和访问器属性
        // 数据属性
        // [[Configurable]]:表示能否通过delete 删除属性，修改属性值 或者 更改为访问器属性，默认为true
        // [[Enumerable]]:能否通过 for in 循环返回属性默认为true
        // [[Writeable]] :能否修改属性值 默认为true
        // [[Value]]:属性值 ，默认为undefined

        // 上面这些属性是可以修改的、Object.defineProperty()
        // 接受三个参数：属性所在对象，属性名字，和属性描述符(可以设置一个或者两个，三个)。

        var person = {}
        Object.defineProperty(person, 'name', {
            writable: false,
            // false 不能字符串 'false' 
            enumerable: true,
            configurable: true,
            value: '小雨'

        })

        console.log(person.name)
        person.name = '小张'

        //严格模式下，writable:false  为person 赋值会报错， 剩下的两个属性也相同，设置为false ,在进行操作，会报错。但是非严格模式下，什么也不会发生。

        console.log(person.name)

        person.name = 'xiao liu '
        console.log(person.name)
        person.name = null
        //赋值给null 也不可以
        console.log(person.name)
        for (let i in person) {
            console.log('我是' + person.name)
        }

        // Object.defineProperty(person,'')
        //默认情况下调用 Object.defineProperty()方法，创建新属性，默认writavle,enumeravle,confgurable 都为false

        // 访问器属性：
        // [[Configurable]]:是否可以delete
        // [[Enumerable]] : 能否for in 循环

        // [[Get]] 读取属性时，调用的函数
        // [[Set]] 设置属性是，调用的属性

        var book = {
            _year: 2004,
            edition: 1
        }

        Object.defineProperty(
            book, 'year', {
                get: function () {
                    return this._book
                },
                set: function (newvalue) {
                    if (newvalue > 2004) {
                        this._book = newvalue
                        this.edition += newvalue - 2004
                    }
                }
            }
        )

        book.year = 2009
        var edition = book.edition
        console.log(edition)
    </script>

</body>

</html>

